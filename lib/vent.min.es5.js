'use strict';(()=>{let k=[],l=a=>"string"!==typeof a?[]:a.split(" ").reduce(({keys:b,a:d},c)=>d[c]?{keys:b,a:d}:{keys:[...b,c],a:{...d,[c]:!0}},{keys:[],a:{}}).keys,p=(a,b,d,{b:c,once:e})=>{const g=f=>{var h=f.target;if(c&&"string"===typeof c?h&&("function"===typeof h.matches?h.matches(c):"function"===typeof h.msMatchesSelector&&h.msMatchesSelector(c))||a.contains(h.closest(c)):1)d.call(a,f,f&&f.detail),e&&a.removeEventListener(b,g)};g.c=d;a.addEventListener(b,g);e||n(a,b,g)},q=(a,b,d,c)=>{const e=
"function"===typeof a.dispatchEvent;l(b).forEach(g=>{const f="undefined"!==typeof document[`on${g}`];let h;h=d||!f?new CustomEvent(g,Object.assign({detail:d,bubbles:!0},c)):new Event(g,Object.assign({bubbles:!0},c));if(f&&"function"===typeof a[g])a[g]();e&&a.dispatchEvent(h)})},n=(a,b,d)=>{if(a&&b&&d){var c=k.findIndex(([g])=>g===a),[,e]=k[c]||[a,{}];e[b]=e[b]||[];e[b].push(d);-1===c?k.push([a,e]):k[c]=[a,e]}},r=(a,b,d)=>{const c=k.findIndex(([f])=>f===a);if(-1!==c){var [,e]=k[c],g=l(b);for(const f in e)-1===
g.indexOf(f)&&b||!Object.prototype.hasOwnProperty.call(e,f)||!Array.isArray(e[f])||(e[f]=e[f].filter(h=>{if(d){if(h.c!==d)return!0;a.removeEventListener(f,h);return!1}a.removeEventListener(f,h);return!1}),b||delete e[f]);b||k.splice(c,1)}};window.Vent=function(...a){this.length=0;this.add(...a)};window.vent=(...a)=>new window.Vent(...a);window.Vent.prototype.splice=function(...a){return Array.prototype.splice.apply(this,a)};window.Vent.prototype.each=function(...a){Array.prototype.forEach.call(this,
...a);return this};window.Vent.prototype.add=function(...a){a.forEach(b=>{(b?"string"===typeof b?[...document.querySelectorAll(b)]:b instanceof NodeList?[...b]:"function"===typeof b.addEventListener?[b]:[]:[]).forEach(d=>{for(let c=0;c<this.length;c++)if(this[c]===d)return;this[this.length]=d;this.length++})});return this};window.Vent.prototype.on=function(...a){return m(this,{},a)};window.Vent.prototype.once=function(...a){return m(this,{once:!0},a)};window.Vent.prototype.off=function(a,b){return this.each(d=>
r(d,a,b))};window.Vent.prototype.trigger=function(a,{data:b,options:d}={}){return this.each(c=>q(c,a,b,d))};let m=(a,b,[d,...c])=>{if(c.length){var {length:e,[e-1]:g,[e-2]:f}=c,h=l(d);return a.each(t=>h.forEach(u=>p(t,u,g,{...b,b:f})))}};return window.vent})()
