"use strict";(()=>{let t=[],e=t=>"string"!=typeof t?[]:t.split(" ").reduce(({keys:t,a:e},n)=>e[n]?{keys:t,a:e}:{keys:[...t,n],a:{...e,[n]:!0}},{keys:[],a:{}}).keys,n=(e,n,o)=>{if(e&&n&&o){var i=t.findIndex(([t])=>t===e),[,r]=t[i]||[e,{}];r[n]=r[n]||[],r[n].push(o),-1===i?t.push([e,r]):t[i]=[e,r]}};window.Vent=function(...t){this.length=0,this.add(...t)},window.vent=(...t)=>new window.Vent(...t),window.Vent.prototype.splice=function(...t){return Array.prototype.splice.apply(this,t)},window.Vent.prototype.each=function(...t){return Array.prototype.forEach.call(this,...t),this},window.Vent.prototype.add=function(...t){return t.forEach(t=>{(t?"string"==typeof t?[...document.querySelectorAll(t)]:t instanceof NodeList?[...t]:"function"==typeof t.addEventListener?[t]:[]:[]).forEach(t=>{for(let e=0;e<this.length;e++)if(this[e]===t)return;this[this.length]=t,this.length++})}),this},window.Vent.prototype.on=function(...t){return o(this,{},t)},window.Vent.prototype.once=function(...t){return o(this,{once:!0},t)},window.Vent.prototype.off=function(n,o){return this.each(i=>((n,o,i)=>{const r=t.findIndex(([t])=>t===n);if(-1!==r){var[,s]=t[r],c=e(o);for(const t in s)-1===c.indexOf(t)&&o||!Object.prototype.hasOwnProperty.call(s,t)||!Array.isArray(s[t])||(s[t]=s[t].filter(e=>i&&e.c!==i||(n.removeEventListener(t,e),!1)),o||delete s[t]);o||t.splice(r,1)}})(i,n,o))},window.Vent.prototype.trigger=function(t,{data:n,options:o}={}){return this.each(i=>((t,n,o,i)=>{const r="function"==typeof t.dispatchEvent;e(n).forEach(e=>{const n=void 0!==document[`on${e}`];let s;s=o||!n?new CustomEvent(e,Object.assign({detail:o,bubbles:!0},i)):new Event(e,Object.assign({bubbles:!0},i)),n&&"function"==typeof t[e]&&t[e](),r&&t.dispatchEvent(s)})})(i,t,n,o))};let o=(t,o,[i,...r])=>{if(r.length){var{length:s,[s-1]:c,[s-2]:a}=r,p=e(i);return t.each(t=>p.forEach(e=>((t,e,o,{b:i,once:r})=>{const s=n=>{var c=n.target;i&&"string"==typeof i&&!(c&&("function"==typeof c.matches?c.matches(i):"function"==typeof c.msMatchesSelector&&c.msMatchesSelector(i))||t.contains(c.closest(i)))||(o.call(i?n.target:t,n,n&&n.detail),r&&t.removeEventListener(e,s))};s.c=o,t.addEventListener(e,s),r||n(t,e,s)})(t,e,c,{...o,b:a})))}};window.vent})();
