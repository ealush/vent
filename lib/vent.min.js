(()=>{const t=new Map;function e(t){return"string"!=typeof t?[]:Object.keys(t.split(" ").reduce((t,e)=>({...t,...e&&{[e]:!0}}),{}))}function n(e,n,r,{delegatedTarget:s,once:o}){const i=t=>{if(function(t,e){return!e||"string"!=typeof e||function(t,e){return!!t&&("function"==typeof t.matches?t.matches(e):"function"!=typeof t.msMatchesSelector&&t.msMatchesSelector(e))}(t,e)}(t.target,s)){const s=t&&t.detail;r.call(e,t,s),o&&e.removeEventListener(n,i)}};e.addEventListener(n,i),o||function(e,n,r){if(!e||!n||!r)return;const s=t.get(e)||{};s[n]=s[n]||[],s[n].push(r),t.set(e,s)}(e,n,i)}function r(t,n,r,s){t.dispatchEvent&&e(n).forEach(e=>{const n=function(t){return void 0!==document[`on${t}`]}(e);let o;if(r||!n)o=new CustomEvent(e,Object.assign({detail:r,bubbles:!0},s));else{if(n&&"function"==typeof t[e])return t[e]();o=new Event(e,Object.assign({bubbles:!0},s))}t.dispatchEvent(o)})}function s(t,r={},...s){if(s.length<2)return t;const o=s[0],i=s[s.length-1];let c;3===s.length&&(c=s[1]);const a=e(o);return t.forEach(t=>{a.forEach(e=>n(t,e,i,Object.assign({},r,{delegatedTarget:c})))}),t}class Vent{constructor(...t){return this.list=[],this.add(...t),this}add(...t){return t.forEach(t=>{const e=function(t){return t?"string"==typeof t?document.querySelectorAll(t):t instanceof NodeList?t:"function"==typeof t.addEventListener?[t]:[]:[]}(t);Array.prototype.forEach.call(e,t=>{this.list.find(e=>e===t)||this.list.push(t)},this)},this),this}on(...t){return s(this,{},...t),this}once(...t){return s(this,{once:!0},...t),this}forEach(t,e=this){return this.list.forEach(t,e),this}each(...t){return this.forEach(...t)}off(n){return this.forEach(r=>(function(n,r){const s=t.get(n),o=e(r);for(const t in s)(o.includes(t)||!r)&&Object.prototype.hasOwnProperty.call(s,t)&&Array.isArray(s[t])&&(s[t].forEach(e=>n.removeEventListener(t,e)),delete s[t]);r||t.delete(n)})(r,n)),this}trigger(t,{data:e,options:n}={}){return this.forEach(s=>r(s,t,e,n)),this}}const i=t=>new Vent(t);window.vent=i})();
